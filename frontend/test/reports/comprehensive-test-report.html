
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…«å­—åº”ç”¨æµ‹è¯•æŠ¥å‘Š</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Microsoft YaHei', Arial, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 10px; margin-bottom: 30px; }
        .summary-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); text-align: center; }
        .card.passed { border-left: 4px solid #28a745; }
        .card.failed { border-left: 4px solid #dc3545; }
        .card.skipped { border-left: 4px solid #ffc107; }
        .card.total { border-left: 4px solid #007bff; }
        .card h3 { font-size: 14px; color: #666; margin-bottom: 10px; }
        .card .number { font-size: 32px; font-weight: bold; }
        .section { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px; }
        .section h2 { color: #333; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid #f0f0f0; }
        .error-item { background: #fff5f5; border-left: 4px solid #dc3545; padding: 15px; margin-bottom: 10px; border-radius: 4px; }
        .recommendation { background: #f8f9fa; border-left: 4px solid #007bff; padding: 15px; margin-bottom: 10px; border-radius: 4px; }
        .recommendation.high { border-left-color: #dc3545; }
        .recommendation.medium { border-left-color: #ffc107; }
        .recommendation.low { border-left-color: #28a745; }
        table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #f8f9fa; font-weight: bold; }
        .timestamp { color: #666; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š å…«å­—åº”ç”¨æµ‹è¯•æŠ¥å‘Š</h1>
            <p class="timestamp">ç”Ÿæˆæ—¶é—´: 2025-12-25T08:25:07.885Z</p>
        </div>

        <!-- æµ‹è¯•æ‘˜è¦ -->
        <div class="summary-cards">
            <div class="card total">
                <h3>æ€»æµ‹è¯•æ•°</h3>
                <div class="number">0</div>
            </div>
            <div class="card passed">
                <h3>é€šè¿‡</h3>
                <div class="number">0</div>
            </div>
            <div class="card failed">
                <h3>å¤±è´¥</h3>
                <div class="number">0</div>
            </div>
            <div class="card skipped">
                <h3>è·³è¿‡</h3>
                <div class="number">0</div>
            </div>
        </div>

        <!-- å¥—ä»¶è¯¦æƒ… -->
        <div class="section">
            <h2>ğŸ“‹ æµ‹è¯•å¥—ä»¶è¯¦æƒ…</h2>
            <table>
                <thead>
                    <tr>
                        <th>å¥—ä»¶åç§°</th>
                        <th>æ€»æ•°</th>
                        <th>é€šè¿‡</th>
                        <th>å¤±è´¥</th>
                        <th>é€šè¿‡ç‡</th>
                    </tr>
                </thead>
                <tbody>
                    
                </tbody>
            </table>
        </div>

        <!-- é”™è¯¯åˆ†æ -->
        <div class="section">
            <h2>âŒ é”™è¯¯åˆ†æ</h2>
            <p>æ€»é”™è¯¯æ•°: 4</p>
            
            <h3>é”™è¯¯ç±»å‹åˆ†å¸ƒ</h3>
            <table>
                <thead>
                    <tr>
                        <th>é”™è¯¯ç±»å‹</th>
                        <th>æ•°é‡</th>
                        <th>å æ¯”</th>
                    </tr>
                </thead>
                <tbody>
                    
                        <tr>
                            <td>Command failed</td>
                            <td>4</td>
                            <td>100.00%</td>
                        </tr>
                    
                </tbody>
            </table>

            <h3>å¸¸è§é”™è¯¯è¯¦æƒ…</h3>
            
                <div class="error-item">
                    <strong>ç”¨æˆ·é…ç½®æ•°æ®æµ‹è¯•</strong><br>
                    Command failed: npx jest ./__tests__/config.test.js --config=./test/jest.config.js --verbose --json --outputFile=./test/results/ç”¨æˆ·é…ç½®æ•°æ®æµ‹è¯•.json
FAIL test/__tests__/config.test.js
  ç”¨æˆ·é…ç½®æ•°æ®æµ‹è¯•å¥—ä»¶
    é…ç½®æ•°æ®å­˜å‚¨å’Œè¯»å–
      âœ• åº”è¯¥æ­£ç¡®æ·»åŠ å’Œè¯»å–åŸºæœ¬é…ç½® (11 ms)
      âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®å’Œè·å–æ´»è·ƒé…ç½® (2 ms)
    é…ç½®æ•°æ®ä¿®æ”¹å’Œä¸€è‡´æ€§
      âœ“ åº”è¯¥æ­£ç¡®æ›´æ–°é…ç½®æ•°æ® (12 ms)
      âœ“ ä¿®æ”¹é…ç½®ååº”ä¿æŒæ•°æ®å®Œæ•´æ€§ (4 ms)
    å…«å­—è¿ç®—ç®—æ³•éªŒè¯
      âœ“ åº”è¯¥æ­£ç¡®è®¡ç®—å…«å­—: æ ‡å‡†å…«å­—æ¡ˆä¾‹1 (5 ms)
      âœ“ åº”è¯¥æ­£ç¡®è®¡ç®—å…«å­—: æ ‡å‡†å…«å­—æ¡ˆä¾‹2 (10 ms)
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†æ—¶è¾°è®¡ç®— (5 ms)
    è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥å¤„ç†
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†è¾¹ç•Œå¹´é¾„æ•°æ® (1 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†æ— æ•ˆæ—¥æœŸè¾“å…¥ (1 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†ç¼ºå°‘ä½ç½®ä¿¡æ¯çš„æƒ…å†µ (1 ms)
    æ€§èƒ½æµ‹è¯•
      âœ“ æ‰¹é‡æ“ä½œåº”è¯¥ä¿æŒè‰¯å¥½æ€§èƒ½ (1 ms)
      âœ“ å…«å­—è®¡ç®—åº”è¯¥é«˜æ•ˆ (17 ms)

  â— ç”¨æˆ·é…ç½®æ•°æ®æµ‹è¯•å¥—ä»¶ â€º é…ç½®æ•°æ®å­˜å‚¨å’Œè¯»å– â€º åº”è¯¥æ­£ç¡®æ·»åŠ å’Œè¯»å–åŸºæœ¬é…ç½®

    expect(received).toBeTruthy()

    Received: false

      111 |     test('åº”è¯¥æ­£ç¡®æ·»åŠ å’Œè¯»å–åŸºæœ¬é…ç½®', async () => {
      112 |       const result = await enhancedUserConfigManager.addBasicConfig(TEST_CONFIGS.basic);
    > 113 |       expect(result).toBeTruthy();
          |                      ^
      114 |
      115 |       const configs = enhancedUserConfigManager.getAllConfigs();
      116 |       expect(configs.length).toBeGreaterThan(0);

      at Object.<anonymous> (__tests__/config.test.js:113:22)

  â— ç”¨æˆ·é…ç½®æ•°æ®æµ‹è¯•å¥—ä»¶ â€º å…«å­—è¿ç®—ç®—æ³•éªŒè¯ â€º åº”è¯¥æ­£ç¡®å¤„ç†æ—¶è¾°è®¡ç®—

    expect(received).toBe(expected) // Object.is equality

    Expected: "å­"
    Received: undefined

      238 |       testTimes.forEach(({ time, expectedShichen }) => {
      239 |         const shichen = getShichen(time);
    > 240 |         expect(shichen.name).toBe(expectedShichen);
          |                              ^
      241 |       });
      242 |     });
      243 |   });

      at forEach (__tests__/config.test.js:240:30)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (__tests__/config.test.js:238:17)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— ç”¨æˆ·é…ç½®æ•°æ®æµ‹è¯•å¥—ä»¶ â€º è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥å¤„ç† â€º åº”è¯¥æ­£ç¡®å¤„ç†è¾¹ç•Œå¹´é¾„æ•°æ®

    expect(received).toBeTruthy()

    Received: false

      247 |     test('åº”è¯¥æ­£ç¡®å¤„ç†è¾¹ç•Œå¹´é¾„æ•°æ®', async () => {
      248 |       const result = await enhancedUserConfigManager.addBasicConfig(TEST_CONFIGS.edgeCases.minAge);
    > 249 |       expect(result).toBeTruthy();
          |                      ^
      250 |
      251 |       const configs = enhancedUserConfigManager.getAllConfigs();
      252 |       const config = configs[configs.length - 1];

      at Object.<anonymous> (__tests__/config.test.js:249:22)

Test Suites: 1 failed, 1 total
Tests:       3 failed, 9 passed, 12 total
Snapshots:   0 total
Time:        1.263 s, estimated 2 s
Ran all test suites matching /.\/__tests__\/config.test.js/i.
Test results written to: test/results/ç”¨æˆ·é…ç½®æ•°æ®æµ‹è¯•.json
<br>
                    <span class="timestamp">2025-12-25T08:24:47.878Z</span>
                </div>
            
                <div class="error-item">
                    <strong>æ•°æ®ä¸€è‡´æ€§æµ‹è¯•</strong><br>
                    Command failed: npx jest ./__tests__/consistency.test.js --config=./test/jest.config.js --verbose --json --outputFile=./test/results/æ•°æ®ä¸€è‡´æ€§æµ‹è¯•.json
FAIL test/__tests__/consistency.test.js
  é…ç½®æ•°æ®ä¸€è‡´æ€§æµ‹è¯•å¥—ä»¶
    æ•°æ®å®Œæ•´æ€§éªŒè¯
      âœ“ åº”è¯¥éªŒè¯å®Œæ•´é…ç½®æ•°æ®çš„å®Œæ•´æ€§ (10 ms)
      âœ“ åº”è¯¥æ£€æµ‹éƒ¨åˆ†é…ç½®æ•°æ®çš„é—®é¢˜ (2 ms)
      âœ“ åº”è¯¥æ‹’ç»æŸåçš„é…ç½®æ•°æ® (1 ms)
    é…ç½®æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥
      âœ• ä¿å­˜å’Œè¯»å–çš„é…ç½®æ•°æ®åº”è¯¥ä¸€è‡´ (3 ms)
      âœ• ä¿®æ”¹é…ç½®åç›¸å…³å­—æ®µåº”è¯¥åŒæ­¥æ›´æ–° (11 ms)
    é”™è¯¯æ¢å¤å’Œå®¹é”™æœºåˆ¶
      âœ“ åº”è¯¥è‡ªåŠ¨ä¿®å¤éƒ¨åˆ†æŸåçš„æ•°æ® (12 ms)
      âœ“ åº”è¯¥å¤„ç†ç¼ºå¤±å­—æ®µçš„é»˜è®¤å€¼å¡«å…… (1 ms)
    æ•°æ®å®Œæ•´æ€§ç®¡ç†å™¨æµ‹è¯•
      âœ• åº”è¯¥æ£€æµ‹é…ç½®æ•°æ®çš„å®Œæ•´æ€§ (1 ms)
      âœ• åº”è¯¥è‡ªåŠ¨ä¿®å¤ä¸å®Œæ•´çš„æ•°æ® (4 ms)
    å¹¶å‘æ“ä½œæµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†å¹¶å‘é…ç½®ä¿®æ”¹ (122 ms)
    æ•°æ®ç‰ˆæœ¬å…¼å®¹æ€§æµ‹è¯•
      âœ“ åº”è¯¥å¤„ç†æ—§ç‰ˆæœ¬é…ç½®æ•°æ®æ ¼å¼ (1 ms)

  â— é…ç½®æ•°æ®ä¸€è‡´æ€§æµ‹è¯•å¥—ä»¶ â€º é…ç½®æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥ â€º ä¿å­˜å’Œè¯»å–çš„é…ç½®æ•°æ®åº”è¯¥ä¸€è‡´

    expect(received).toBe(expected) // Object.is equality

    Expected: "å®Œæ•´é…ç½®æµ‹è¯•"
    Received: "å‰å­"

      150 |       
      151 |       // éªŒè¯æ•°æ®ä¸€è‡´æ€§
    > 152 |       expect(savedConfig.nickname).toBe(TEST_CONFIGS.complete.nickname);
          |                                    ^
      153 |       expect(savedConfig.birthDate).toBe(TEST_CONFIGS.complete.birthDate);
      154 |       expect(savedConfig.birthTime).toBe(TEST_CONFIGS.complete.birthTime);
      155 |       

      at Object.<anonymous> (__tests__/consistency.test.js:152:36)

  â— é…ç½®æ•°æ®ä¸€è‡´æ€§æµ‹è¯•å¥—ä»¶ â€º é…ç½®æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥ â€º ä¿®æ”¹é…ç½®åç›¸å…³å­—æ®µåº”è¯¥åŒæ­¥æ›´æ–°

    expect(received).toBe(expected) // Object.is equality

    Expected: "å®Œæ•´é…ç½®æµ‹è¯•"
    Received: "å‰å­"

      191 |       
      192 |       // éªŒè¯å…¶ä»–å­—æ®µä¿æŒä¸å˜
    > 193 |       expect(modifiedConfig.nickname).toBe(TEST_CONFIGS.complete.nickname);
          |                                       ^
      194 |       expect(modifiedConfig.gender).toBe(TEST_CONFIGS.complete.gender);
      195 |     });
      196 |   });

      at Object.<anonymous> (__tests__/consistency.test.js:193:39)

  â— é…ç½®æ•°æ®ä¸€è‡´æ€§æµ‹è¯•å¥—ä»¶ â€º æ•°æ®å®Œæ•´æ€§ç®¡ç†å™¨æµ‹è¯• â€º åº”è¯¥æ£€æµ‹é…ç½®æ•°æ®çš„å®Œæ•´æ€§

    TypeError: birthDataIntegrityManager.checkDataIntegrity is not a function

      243 |   describe('æ•°æ®å®Œæ•´æ€§ç®¡ç†å™¨æµ‹è¯•', () => {
      244 |     test('åº”è¯¥æ£€æµ‹é…ç½®æ•°æ®çš„å®Œæ•´æ€§', () => {
    > 245 |       const completeCheck = birthDataIntegrityManager.checkDataIntegrity(TEST_CONFIGS.complete);
          |                                                       ^
      246 |       expect(completeCheck.isComplete).toBe(true);
      247 |       expect(completeCheck.missingFields).toHaveLength(0);
      248 |

      at Object.<anonymous> (__tests__/consistency.test.js:245:55)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— é…ç½®æ•°æ®ä¸€è‡´æ€§æµ‹è¯•å¥—ä»¶ â€º æ•°æ®å®Œæ•´æ€§ç®¡ç†å™¨æµ‹è¯• â€º åº”è¯¥è‡ªåŠ¨ä¿®å¤ä¸å®Œæ•´çš„æ•°æ®

    TypeError: birthDataIntegrityManager.autoFixMissingData is not a function

      253 |
      254 |     test('åº”è¯¥è‡ªåŠ¨ä¿®å¤ä¸å®Œæ•´çš„æ•°æ®', () => {
    > 255 |       const fixedConfig = birthDataIntegrityManager.autoFixMissingData(TEST_CONFIGS.partial);
          |                                                     ^
      256 |       
      257 |       expect(fixedConfig.birthLocation).toBeDefined();
      258 |       expect(fixedConfig.birthLocation.lng).toBeDefined();

      at Object.<anonymous> (__tests__/consistency.test.js:255:53)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

Test Suites: 1 failed, 1 total
Tests:       4 failed, 7 passed, 11 total
Snapshots:   0 total
Time:        1.006 s, estimated 2 s
Ran all test suites matching /.\/__tests__\/consistency.test.js/i.
Test results written to: test/results/æ•°æ®ä¸€è‡´æ€§æµ‹è¯•.json
<br>
                    <span class="timestamp">2025-12-25T08:24:51.190Z</span>
                </div>
            
                <div class="error-item">
                    <strong>å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•</strong><br>
                    Command failed: npx jest ./__tests__/bazi.test.js --config=./test/jest.config.js --verbose --json --outputFile=./test/results/å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•.json
FAIL test/__tests__/bazi.test.js
  å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶
    å…«å­—ç®—æ³•å‡†ç¡®æ€§éªŒè¯
      âœ“ åº”è¯¥å‡†ç¡®è®¡ç®—å…«å­—: 1990å¹´1æœˆ1æ—¥12:30åŒ—äº¬ (9 ms)
      âœ“ åº”è¯¥å‡†ç¡®è®¡ç®—å…«å­—: 1985å¹´5æœˆ15æ—¥8:45ä¸Šæµ· (5 ms)
      âœ• åº”è¯¥å‡†ç¡®è®¡ç®—å…«å­—: 2000å¹´2æœˆ29æ—¥0:00å¹¿å· (12 ms)
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†ä¸åŒç»åº¦çš„çœŸå¤ªé˜³æ—¶ (4 ms)
    æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 23:00 -> å­
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 01:30 -> ä¸‘
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 03:45 -> å¯… (1 ms)
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 05:15 -> å¯
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 07:30 -> è¾°
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 09:45 -> å·³
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 11:15 -> åˆ
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 13:30 -> æœª
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 15:45 -> ç”³
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 17:15 -> é…‰
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 19:30 -> æˆŒ
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 21:45 -> äº¥ (1 ms)
      âœ• ç®€åŒ–ç‰ˆæ—¶è¾°è®¡ç®—åº”è¯¥ä¸å®Œæ•´ç‰ˆä¸€è‡´
      âœ• æ—¶è¾°æ ‡å‡†åŒ–åº”è¯¥æ­£ç¡®å¤„ç†è¾¹ç•Œå€¼
    äº”è¡Œåˆ†æå‡†ç¡®æ€§éªŒè¯
      âœ“ åº”è¯¥æ­£ç¡®ç»Ÿè®¡äº”è¡Œæ•°é‡ (1 ms)
      âœ“ åº”è¯¥æ­£ç¡®åˆ†ææ—¥ä¸»å’Œæ—ºè¡° (1 ms)
    è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥å¤„ç†
      âœ• åº”è¯¥å¤„ç†æ— æ•ˆæ—¥æœŸè¾“å…¥ (10 ms)
      âœ• åº”è¯¥å¤„ç†æ— æ•ˆæ—¶é—´è¾“å…¥
      âœ“ åº”è¯¥å¤„ç†æç«¯ç»åº¦å€¼ (23 ms)
    æ€§èƒ½æµ‹è¯•
      âœ“ å…«å­—è®¡ç®—åº”è¯¥åœ¨åˆç†æ—¶é—´å†…å®Œæˆ (11 ms)
      âœ“ æ—¶è¾°è®¡ç®—åº”è¯¥é«˜æ•ˆ (1 ms)
    å†œå†å’ŒèŠ‚æ°”éªŒè¯
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—å†œå†æ—¥æœŸ (2 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†é—°æœˆ (2 ms)
    çº³éŸ³äº”è¡ŒéªŒè¯
      âœ• åº”è¯¥æ­£ç¡®è®¡ç®—çº³éŸ³äº”è¡Œ (4 ms)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º å…«å­—ç®—æ³•å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥å‡†ç¡®è®¡ç®—å…«å­—: 2000å¹´2æœˆ29æ—¥0:00å¹¿å·

    expect(received).toBe(expected) // Object.is equality

    Expected: "ä¸å·³"
    Received: "ä¸™è¾°"

      130 |         expect(baziInfo.bazi.year).toBe(testCase.expected.bazi.year);
      131 |         expect(baziInfo.bazi.month).toBe(testCase.expected.bazi.month);
    > 132 |         expect(baziInfo.bazi.day).toBe(testCase.expected.bazi.day);
          |                                   ^
      133 |         expect(baziInfo.bazi.hour).toBe(testCase.expected.bazi.hour);
      134 |
      135 |         // éªŒè¯äº”è¡Œå‡†ç¡®æ€§

      at Object.<anonymous> (__tests__/bazi.test.js:132:35)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º å…«å­—ç®—æ³•å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®å¤„ç†ä¸åŒç»åº¦çš„çœŸå¤ªé˜³æ—¶

    expect(received).toBe(expected) // Object.is equality

    Expected: "åˆ"
    Received: undefined

      152 |       testCases.forEach(({ longitude, birthTime, expectedHour }) => {
      153 |         const baziInfo = calculateDetailedBazi('1990-01-01', birthTime, longitude);
    > 154 |         expect(baziInfo.shichen.name).toBe(expectedHour);
          |                                       ^
      155 |       });
      156 |     });
      157 |   });

      at forEach (__tests__/bazi.test.js:154:39)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (__tests__/bazi.test.js:152:17)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 23:00 -> å­

    expect(received).toBe(expected) // Object.is equality

    Expected: "å­"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 01:30 -> ä¸‘

    expect(received).toBe(expected) // Object.is equality

    Expected: "ä¸‘"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 03:45 -> å¯…

    expect(received).toBe(expected) // Object.is equality

    Expected: "å¯…"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 05:15 -> å¯

    expect(received).toBe(expected) // Object.is equality

    Expected: "å¯"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 07:30 -> è¾°

    expect(received).toBe(expected) // Object.is equality

    Expected: "è¾°"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 09:45 -> å·³

    expect(received).toBe(expected) // Object.is equality

    Expected: "å·³"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 11:15 -> åˆ

    expect(received).toBe(expected) // Object.is equality

    Expected: "åˆ"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 13:30 -> æœª

    expect(received).toBe(expected) // Object.is equality

    Expected: "æœª"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 15:45 -> ç”³

    expect(received).toBe(expected) // Object.is equality

    Expected: "ç”³"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 17:15 -> é…‰

    expect(received).toBe(expected) // Object.is equality

    Expected: "é…‰"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 19:30 -> æˆŒ

    expect(received).toBe(expected) // Object.is equality

    Expected: "æˆŒ"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—æ—¶è¾°: 21:45 -> äº¥

    expect(received).toBe(expected) // Object.is equality

    Expected: "äº¥"
    Received: undefined

      164 |         
      165 |         expect(shichen).toBeDefined();
    > 166 |         expect(shichen.name).toBe(testCase.expected);
          |                              ^
      167 |         expect(shichen.index).toBe(testCase.expectedIndex);
      168 |         expect(shichen.startTime).toBeDefined();
      169 |         expect(shichen.endTime).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:166:30)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º ç®€åŒ–ç‰ˆæ—¶è¾°è®¡ç®—åº”è¯¥ä¸å®Œæ•´ç‰ˆä¸€è‡´

    expect(received).toBe(expected) // Object.is equality

    Expected: "å­"
    Received: "å­æ—¶"

      176 |         const simpleShichen = getShichenSimple(testCase.time);
      177 |         
    > 178 |         expect(simpleShichen).toBe(testCase.expected);
          |                               ^
      179 |         expect(simpleShichen).toBe(fullShichen.name);
      180 |       });
      181 |     });

      at forEach (__tests__/bazi.test.js:178:31)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (__tests__/bazi.test.js:174:26)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º æ—¶è¾°è®¡ç®—å‡†ç¡®æ€§éªŒè¯ â€º æ—¶è¾°æ ‡å‡†åŒ–åº”è¯¥æ­£ç¡®å¤„ç†è¾¹ç•Œå€¼

    expect(received).toBe(expected) // Object.is equality

    Expected: "åˆ"
    Received: "åˆæ—¶"

      191 |       edgeCases.forEach(({ input, expected }) => {
      192 |         const normalized = normalizeShichen(input);
    > 193 |         expect(normalized).toBe(expected);
          |                            ^
      194 |       });
      195 |     });
      196 |   });

      at forEach (__tests__/bazi.test.js:193:28)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (__tests__/bazi.test.js:191:17)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥å¤„ç† â€º åº”è¯¥å¤„ç†æ— æ•ˆæ—¥æœŸè¾“å…¥

    expect(received).toThrow()

    Received function did not throw

      250 |         expect(() => {
      251 |           calculateDetailedBazi(date, '12:30', 116.40);
    > 252 |         }).toThrow(); // æˆ–è€…è¿”å›åˆç†çš„é»˜è®¤å€¼
          |            ^
      253 |       });
      254 |     });
      255 |

      at forEach (__tests__/bazi.test.js:252:12)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (__tests__/bazi.test.js:249:20)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥å¤„ç† â€º åº”è¯¥å¤„ç†æ— æ•ˆæ—¶é—´è¾“å…¥

    wrong hour 25

      20 |
      21 |     // 1. åˆ›å»ºå…¬å†å¯¹è±¡
    > 22 |     const solar = Solar.fromYmdHms(year, month, day, hour, minute, 0);
         |                         ^
      23 |
      24 |     // 2. è½¬æ¢ä¸ºå†œå†å¯¹è±¡ (lunar-javascript ä¼šè‡ªåŠ¨å¤„ç†èŠ‚æ°”ç­‰å…«å­—è®¡ç®—)
      25 |     let lunar = solar.getLunar();

      at _fromYmdHms (../node_modules/lunar-javascript/lunar.js:106:15)
      at Object.fromYmdHms (../node_modules/lunar-javascript/lunar.js:624:60)
      at calculateDetailedBazi (../src/utils/baziHelper.js:22:25)
      at forEach (__tests__/bazi.test.js:260:26)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (__tests__/bazi.test.js:259:20)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º å†œå†å’ŒèŠ‚æ°”éªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—å†œå†æ—¥æœŸ

    expect(received).toBeDefined()

    Received: undefined

      322 |       
      323 |       // éªŒè¯å†œå†æ—¥æœŸç»“æ„
    > 324 |       expect(baziInfo.lunar.year).toBeDefined();
          |                                   ^
      325 |       expect(baziInfo.lunar.month).toBeDefined();
      326 |       expect(baziInfo.lunar.day).toBeDefined();
      327 |       expect(baziInfo.lunar.isLeapMonth).toBeDefined();

      at Object.<anonymous> (__tests__/bazi.test.js:324:35)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•å¥—ä»¶ â€º çº³éŸ³äº”è¡ŒéªŒè¯ â€º åº”è¯¥æ­£ç¡®è®¡ç®—çº³éŸ³äº”è¡Œ

    expect(received).toMatch(expected)

    Expected pattern: /[æœ¨ç«åœŸé‡‘æ°´]\w+/
    Received string:  "å¤§æ—æœ¨"

      350 |       
      351 |       expect(baziInfo.nayin).toBeDefined();
    > 352 |       expect(baziInfo.nayin.year).toMatch(/[æœ¨ç«åœŸé‡‘æ°´]\w+/);
          |                                   ^
      353 |       expect(baziInfo.nayin.month).toMatch(/[æœ¨ç«åœŸé‡‘æ°´]\w+/);
      354 |       expect(baziInfo.nayin.day).toMatch(/[æœ¨ç«åœŸé‡‘æ°´]\w+/);
      355 |       expect(baziInfo.nayin.hour).toMatch(/[æœ¨ç«åœŸé‡‘æ°´]\w+/);

      at Object.<anonymous> (__tests__/bazi.test.js:352:35)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

Test Suites: 1 failed, 1 total
Tests:       20 failed, 8 passed, 28 total
Snapshots:   0 total
Time:        0.881 s, estimated 1 s
Ran all test suites matching /.\/__tests__\/bazi.test.js/i.
Test results written to: test/results/å…«å­—è¿ç®—ç®—æ³•æµ‹è¯•.json
<br>
                    <span class="timestamp">2025-12-25T08:24:54.521Z</span>
                </div>
            
                <div class="error-item">
                    <strong>è¾¹ç•Œæ¡ä»¶æµ‹è¯•</strong><br>
                    Command failed: npx jest ./__tests__/edge-cases.test.js --config=./test/jest.config.js --verbose --json --outputFile=./test/results/è¾¹ç•Œæ¡ä»¶æµ‹è¯•.json
FAIL test/__tests__/edge-cases.test.js
  è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶
    æç«¯æ—¥æœŸå’Œæ—¶é—´å¤„ç†
      âœ• åº”è¯¥å¤„ç†ææ—©å’Œææ™šçš„æ—¥æœŸ (10 ms)
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†é—°å¹´æ—¥æœŸ (1 ms)
      âœ“ åº”è¯¥æ‹’ç»æ˜æ˜¾æ— æ•ˆçš„æ—¥æœŸ (2 ms)
      âœ• åº”è¯¥å¤„ç†è¾¹ç•Œæ—¶é—´å€¼ (1 ms)
    æç«¯åœ°ç†ä½ç½®å¤„ç†
      âœ• åº”è¯¥å¤„ç†æåœ°åæ ‡ (1 ms)
      âœ“ åº”è¯¥å¤„ç†è¶…å‡ºèŒƒå›´çš„åæ ‡ (1 ms)
    ç‰¹æ®Šå§“åå¤„ç†
      âœ• åº”è¯¥å¤„ç†æç«¯é•¿åº¦çš„å§“å
      âœ• åº”è¯¥å¤„ç†ç‰¹æ®Šå­—ç¬¦å’Œè¡¨æƒ…ç¬¦å·
    é”™è¯¯æ¢å¤å’Œå®¹é”™æœºåˆ¶
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†éƒ¨åˆ†ç¼ºå¤±æ•°æ® (1 ms)
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†æ ¼å¼é”™è¯¯æ•°æ® (5 ms)
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†ç©ºæ•°æ® (1 ms)
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†nullæ•°æ® (1 ms)
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†æ•°æ®å®Œæ•´æ€§æ£€æŸ¥ (1 ms)
      âœ• åº”è¯¥æ­£ç¡®è‡ªåŠ¨ä¿®å¤æ•°æ® (1 ms)
    å¹¶å‘æ“ä½œæµ‹è¯•
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†å¹¶å‘é…ç½®æ·»åŠ  (2 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†å¹¶å‘é…ç½®ä¿®æ”¹ (148 ms)
    æ€§èƒ½å‹åŠ›æµ‹è¯•
      âœ“ åº”è¯¥å¤„ç†å¤§é‡å…«å­—è®¡ç®— (107 ms)
      âœ“ åº”è¯¥å¤„ç†å¤§é‡æ—¶è¾°è®¡ç®— (6 ms)
    å†…å­˜å’Œèµ„æºç®¡ç†
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†å¤§é‡é…ç½®å­˜å‚¨ (2 ms)
      âœ• åº”è¯¥æ­£ç¡®æ¸…ç†ä¸´æ—¶æ•°æ® (1 ms)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º æç«¯æ—¥æœŸå’Œæ—¶é—´å¤„ç† â€º åº”è¯¥å¤„ç†ææ—©å’Œææ™šçš„æ—¥æœŸ

    expect(received).toBeTruthy()

    Received: false

      134 |       });
      135 |       
    > 136 |       expect(earlyResult).toBeTruthy();
          |                           ^
      137 |
      138 |       // æµ‹è¯•ææ™šæ—¥æœŸ
      139 |       const lateResult = await enhancedUserConfigManager.addBasicConfig({

      at Object.<anonymous> (__tests__/edge-cases.test.js:136:27)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º æç«¯æ—¥æœŸå’Œæ—¶é—´å¤„ç† â€º åº”è¯¥æ­£ç¡®å¤„ç†é—°å¹´æ—¥æœŸ

    expect(received).toBeTruthy()

    Received: false

      155 |       });
      156 |       
    > 157 |       expect(result).toBeTruthy();
          |                      ^
      158 |     });
      159 |
      160 |     test('åº”è¯¥æ‹’ç»æ˜æ˜¾æ— æ•ˆçš„æ—¥æœŸ', async () => {

      at Object.<anonymous> (__tests__/edge-cases.test.js:157:22)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º æç«¯æ—¥æœŸå’Œæ—¶é—´å¤„ç† â€º åº”è¯¥å¤„ç†è¾¹ç•Œæ—¶é—´å€¼

    expect(received).toBe(expected) // Object.is equality

    Expected: "å­"
    Received: undefined

      187 |       boundaryTimes.forEach(({ time, expectedShichen }) => {
      188 |         const shichen = getShichen(time);
    > 189 |         expect(shichen.name).toBe(expectedShichen);
          |                              ^
      190 |       });
      191 |     });
      192 |   });

      at forEach (__tests__/edge-cases.test.js:189:30)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (__tests__/edge-cases.test.js:187:21)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º æç«¯åœ°ç†ä½ç½®å¤„ç† â€º åº”è¯¥å¤„ç†æåœ°åæ ‡

    expect(received).toBeTruthy()

    Received: false

      205 |         });
      206 |         
    > 207 |         expect(result).toBeTruthy();
          |                        ^
      208 |       }
      209 |     });
      210 |

      at Object.<anonymous> (__tests__/edge-cases.test.js:207:24)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º ç‰¹æ®Šå§“åå¤„ç† â€º åº”è¯¥å¤„ç†æç«¯é•¿åº¦çš„å§“å

    expect(received).toBeTruthy()

    Received: false

      247 |         });
      248 |         
    > 249 |         expect(result).toBeTruthy();
          |                        ^
      250 |         
      251 |         // éªŒè¯å§“åè¢«æ­£ç¡®ä¿å­˜
      252 |         if (result) {

      at Object.<anonymous> (__tests__/edge-cases.test.js:249:24)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º ç‰¹æ®Šå§“åå¤„ç† â€º åº”è¯¥å¤„ç†ç‰¹æ®Šå­—ç¬¦å’Œè¡¨æƒ…ç¬¦å·

    expect(received).toBeTruthy()

    Received: false

      276 |         });
      277 |         
    > 278 |         expect(result).toBeTruthy();
          |                        ^
      279 |       }
      280 |     });
      281 |   });

      at Object.<anonymous> (__tests__/edge-cases.test.js:278:24)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º é”™è¯¯æ¢å¤å’Œå®¹é”™æœºåˆ¶ â€º åº”è¯¥æ­£ç¡®å¤„ç†éƒ¨åˆ†ç¼ºå¤±æ•°æ®

    expect(received).toBeTruthy()

    Received: false

      288 |         
      289 |         if (testCase.shouldRecover) {
    > 290 |           expect(result).toBeTruthy();
          |                          ^
      291 |           
      292 |           // éªŒè¯æ•°æ®è¢«æ­£ç¡®æ¢å¤
      293 |           const configs = enhancedUserConfigManager.getAllConfigs();

      at Object.<anonymous> (__tests__/edge-cases.test.js:290:26)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º é”™è¯¯æ¢å¤å’Œå®¹é”™æœºåˆ¶ â€º åº”è¯¥æ­£ç¡®å¤„ç†æ ¼å¼é”™è¯¯æ•°æ®

    expect(received).toBeTruthy()

    Received: false

      288 |         
      289 |         if (testCase.shouldRecover) {
    > 290 |           expect(result).toBeTruthy();
          |                          ^
      291 |           
      292 |           // éªŒè¯æ•°æ®è¢«æ­£ç¡®æ¢å¤
      293 |           const configs = enhancedUserConfigManager.getAllConfigs();

      at Object.<anonymous> (__tests__/edge-cases.test.js:290:26)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º é”™è¯¯æ¢å¤å’Œå®¹é”™æœºåˆ¶ â€º åº”è¯¥æ­£ç¡®å¤„ç†ç©ºæ•°æ®

    expect(received).toBeTruthy()

    Received: false

      288 |         
      289 |         if (testCase.shouldRecover) {
    > 290 |           expect(result).toBeTruthy();
          |                          ^
      291 |           
      292 |           // éªŒè¯æ•°æ®è¢«æ­£ç¡®æ¢å¤
      293 |           const configs = enhancedUserConfigManager.getAllConfigs();

      at Object.<anonymous> (__tests__/edge-cases.test.js:290:26)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º é”™è¯¯æ¢å¤å’Œå®¹é”™æœºåˆ¶ â€º åº”è¯¥æ­£ç¡®å¤„ç†nullæ•°æ®

    expect(received).toBeTruthy()

    Received: false

      288 |         
      289 |         if (testCase.shouldRecover) {
    > 290 |           expect(result).toBeTruthy();
          |                          ^
      291 |           
      292 |           // éªŒè¯æ•°æ®è¢«æ­£ç¡®æ¢å¤
      293 |           const configs = enhancedUserConfigManager.getAllConfigs();

      at Object.<anonymous> (__tests__/edge-cases.test.js:290:26)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º é”™è¯¯æ¢å¤å’Œå®¹é”™æœºåˆ¶ â€º åº”è¯¥æ­£ç¡®å¤„ç†æ•°æ®å®Œæ•´æ€§æ£€æŸ¥

    TypeError: birthDataIntegrityManager.checkDataIntegrity is not a function

      309 |     test('åº”è¯¥æ­£ç¡®å¤„ç†æ•°æ®å®Œæ•´æ€§æ£€æŸ¥', () => {
      310 |       ERROR_RECOVERY_CASES.forEach(testCase => {
    > 311 |         const integrityCheck = birthDataIntegrityManager.checkDataIntegrity(testCase.config);
          |                                                          ^
      312 |         
      313 |         // éªŒè¯å®Œæ•´æ€§æ£€æŸ¥è¿”å›åˆç†ç»“æœ
      314 |         expect(integrityCheck).toBeDefined();

      at forEach (__tests__/edge-cases.test.js:311:58)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (__tests__/edge-cases.test.js:310:28)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º é”™è¯¯æ¢å¤å’Œå®¹é”™æœºåˆ¶ â€º åº”è¯¥æ­£ç¡®è‡ªåŠ¨ä¿®å¤æ•°æ®

    TypeError: birthDataIntegrityManager.autoFixMissingData is not a function

      321 |     test('åº”è¯¥æ­£ç¡®è‡ªåŠ¨ä¿®å¤æ•°æ®', () => {
      322 |       ERROR_RECOVERY_CASES.forEach(testCase => {
    > 323 |         const fixedConfig = birthDataIntegrityManager.autoFixMissingData(testCase.config);
          |                                                       ^
      324 |         
      325 |         // éªŒè¯ä¿®å¤åçš„é…ç½®
      326 |         expect(fixedConfig).toBeDefined();

      at forEach (__tests__/edge-cases.test.js:323:55)
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (__tests__/edge-cases.test.js:322:28)
      at TestScheduler.scheduleTests (../node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (../node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (../node_modules/@jest/core/build/cli/index.js:320:7)
      at runCLI (../node_modules/@jest/core/build/cli/index.js:173:3)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º å¹¶å‘æ“ä½œæµ‹è¯• â€º åº”è¯¥æ­£ç¡®å¤„ç†å¹¶å‘é…ç½®æ·»åŠ 

    expect(received).toBeGreaterThan(expected)

    Expected: > 0
    Received:   0

      367 |       
      368 |       // è‡³å°‘åº”è¯¥æœ‰ä¸€äº›é…ç½®æˆåŠŸæ·»åŠ 
    > 369 |       expect(successful).toBeGreaterThan(0);
          |                          ^
      370 |     }, CONCURRENCY_TEST_CONFIG.timeout);
      371 |
      372 |     test('åº”è¯¥æ­£ç¡®å¤„ç†å¹¶å‘é…ç½®ä¿®æ”¹', async () => {

      at Object.<anonymous> (__tests__/edge-cases.test.js:369:26)

  â— è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•å¥—ä»¶ â€º å†…å­˜å’Œèµ„æºç®¡ç† â€º åº”è¯¥æ­£ç¡®æ¸…ç†ä¸´æ—¶æ•°æ®

    æ— æ³•åˆ é™¤é…ç½®ï¼šç´¢å¼•æ— æ•ˆæˆ–åªå‰©ä¸€ä¸ªé…ç½®

      674 |   async removeConfig(index) {
      675 |     if (!this.initialized || index < 0 || index >= this.configs.length || this.configs.length <= 1) {
    > 676 |       throw new Error('æ— æ³•åˆ é™¤é…ç½®ï¼šç´¢å¼•æ— æ•ˆæˆ–åªå‰©ä¸€ä¸ªé…ç½®');
          |             ^
      677 |     }
      678 |     
      679 |     try {

      at EnhancedUserConfigManager.removeConfig (../src/utils/EnhancedUserConfigManager.js:676:13)
      at Object.<anonymous> (__tests__/edge-cases.test.js:485:41)

Test Suites: 1 failed, 1 total
Tests:       14 failed, 6 passed, 20 total
Snapshots:   0 total
Time:        1.071 s
Ran all test suites matching /.\/__tests__\/edge-cases.test.js/i.
Test results written to: test/results/è¾¹ç•Œæ¡ä»¶æµ‹è¯•.json
<br>
                    <span class="timestamp">2025-12-25T08:24:57.810Z</span>
                </div>
            
        </div>

        <!-- æ€§èƒ½åˆ†æ -->
        <div class="section">
            <h2>âš¡ æ€§èƒ½åˆ†æ</h2>
            <table>
                <thead>
                    <tr>
                        <th>æŒ‡æ ‡åç§°</th>
                        <th>æ ·æœ¬æ•°</th>
                        <th>æœ€å°å€¼</th>
                        <th>æœ€å¤§å€¼</th>
                        <th>å¹³å‡å€¼</th>
                        <th>ä¸­ä½æ•°</th>
                        <th>è¶‹åŠ¿</th>
                    </tr>
                </thead>
                <tbody>
                    
                        <tr>
                            <td>å…«å­—è®¡ç®—æ€§èƒ½</td>
                            <td>1</td>
                            <td>11.78ms</td>
                            <td>11.78ms</td>
                            <td>11.78ms</td>
                            <td>11.78ms</td>
                            <td>ç¨³å®š</td>
                        </tr>
                    
                        <tr>
                            <td>æ—¶è¾°è®¡ç®—æ€§èƒ½</td>
                            <td>1</td>
                            <td>100.64ms</td>
                            <td>100.64ms</td>
                            <td>100.64ms</td>
                            <td>100.64ms</td>
                            <td>ç¨³å®š</td>
                        </tr>
                    
                        <tr>
                            <td>é…ç½®å­˜å‚¨æ€§èƒ½</td>
                            <td>1</td>
                            <td>6.33ms</td>
                            <td>6.33ms</td>
                            <td>6.33ms</td>
                            <td>6.33ms</td>
                            <td>ç¨³å®š</td>
                        </tr>
                    
                </tbody>
            </table>
        </div>

        <!-- æ”¹è¿›å»ºè®® -->
        <div class="section">
            <h2>ğŸ’¡ æ”¹è¿›å»ºè®®</h2>
            
                <div class="recommendation ä¸­">
                    <strong>[ä¸­ä¼˜å…ˆçº§] é”™è¯¯å¤„ç†</strong><br>
                    é¢‘ç¹å‡ºç° Command failed é”™è¯¯ï¼Œå»ºè®®åŠ å¼ºç›¸å…³é”™è¯¯å¤„ç†æœºåˆ¶<br>
                    <em>å»ºè®®æ“ä½œ: improve_error_handling</em>
                </div>
            
        </div>
    </div>
</body>
</html>